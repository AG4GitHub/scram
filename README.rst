#####################
SCRAM Website Source
#####################

The three branch system is used to build website:
    **develop** -> **gh-source** -> **gh-pages**

This branch contains source files for building SCRAM website and API
documentation. This *gh-source* branch is synchronized with the *develop*
branch to get the documentation files and source code of the application.
No other files are needed, for example, tests, input files, and shared files.
After building the website and API documentation, they are uploaded to the
*gh-pages* branch.

The example merging steps with the *develop* branch:

    #. Run 'git merge develop'. Conflicts are expected.
    #. Delete with 'git rm ' any new file that is not in *doc/*, *src/*
    #. Solve the other merge conflicts. (*README.rst*, for example)
    #. Finish merging.


******************************
Building
******************************

A list of dependencies:

====================   ==================
Package                Minimum Version
====================   ==================
`Sphinx`                1.1.2
====================   ==================

Optional dependencies:

====================   =================
Package                 Minimum Version
====================   =================
`LaTeX`
`DVI-to-PNG`            1.14
`doxygen`               1.7.6.1
`Graphviz Dot`          2.26.3
====================   =================

.. warning::
    Before running the build commands, clean the directories from
    autogenerated or other irrelevant files.
    One option is to use Git: **git clean -fd**

Update and configure *source/conf.py* as necessary, for example, update the
version number.

The command to build the website.

.. code-block:: bash

    make html

Configure *doxygen.conf* if needed.
The command to build the API documentation.

.. code-block:: bash

    doxygen doxygen.conf

The results are located in *build/html* and *build/api/html*. The generated
files should be transfered to the *gh-pages* branch.
